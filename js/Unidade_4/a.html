<!DOCTYPE html>
<head>
<style>
table, th, td {
  border:1px solid black;
}
</style>
</head>

<body>
    <table id="tbUser">
    <tr>
        <th>Nome</th>
        <th>Email</th>
        <th>Telefone</th>
        <th>Acoes</th>
    </tr>
    </table>
    <button id="btnAdd">Adicionar Contato</button>
    <script>
        var contatos = [
            {nome:"Jonas",email:"jonas@email.com",fone:"1234-1234"},
            {nome:"Maria",email:"maria@email.com",fone:"3562-2349"},
            {nome:"Ze",email:"ze@email.com",fone:"2598-9781"},
            ];

        var tabela = document.getElementById("tbUser");

        function createTableHeader(){
                var headerRow = tabela.insertRow(0);
                var headerCell1 = headerRow.insertCell(0);
                var headerCell2 = headerRow.insertCell(1);
                var headerCell3 = headerRow.insertCell(2);
                var headerCell4 = headerRow.insertCell(3);

                headerCell1.innerHTML = "Nome"
                headerCell2.innerHTML = "Email"
                headerCell3.innerHTML = "Fone"
                headerCell4.innerHTML = "Acoes"
        }

        function createTable(){
            for(let i = 0;i < contatos.length;i++){

                var row = tabela.insertRow(i+1);
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                var cell3 = row.insertCell(2);
                var cell4 = row.insertCell(3);

                cell1.innerHTML = contatos[i].nome
                cell2.innerHTML = contatos[i].email
                cell3.innerHTML = contatos[i].fone
                cell4.innerHTML = "<button class='btnEditar';>Editar</button><button class='btnExcluir';>Excluir</button>"
            }
        }

        const obj = {nome:"Zacarias", email:"zacs@email.com", fone:"9038-1498"}
        
        var btn_add = document.getElementById("btnAdd");
        btn_add.addEventListener("click",()=>{
            while(tabela.firstChild){
                tabela.removeChild(tabela.firstChild)
            }

            contatos.push(obj)
            console.log(contatos)
            createTableHeader();
            createTable();
        })

        // Add and event listener to every button with the specified class
        var btn_editar = document.getElementsByClassName("btnEditar");
        for(let i = 0;i < btn_editar.length;i++){
            btn_editar[i].addEventListener("click",()=>{
                alert(contatos[i].nome);
            })
        }

        var btn_excluir = document.getElementsByClassName("btnExcluir");
        for(let i = 0; i < btn_excluir.length;i++){
            btn_excluir[i].addEventListener("click",()=>{
                alert(contatos[i].email);
            })
        }

        createTableHeader();
        createTable();
    </script>
</body>
</html>

